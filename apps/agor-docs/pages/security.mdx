---
title: Security
description: Practical guidance for operating Agor safely while the product is still pre-1.0.
---

# Security

> **Agor is still pre-1.0.** Treat the daemon like an internal developer service, but note that the runtime now enforces authentication, role-aware authorization, and safer defaults.

## What’s Enforced Today

- All REST and Socket.io calls require authentication. Anonymous access (when enabled) is downgraded to a read-only `viewer` role.
- Privileged endpoints—terminals, environment start/stop, config edits, MCP wiring—require `admin` permissions. Session/task mutations require at least `member` permissions.
- File browsing is restricted to `context/` within each worktree, with path traversal guards in place.
- WebSocket broadcasts only reach authenticated clients; unauthenticated sockets no longer receive canvas or task events.
- Formal penetration testing has not been completed yet. Keep the daemon inside network boundaries you control.

## Access Model & Invitations

- Users authenticate with JWTs generated by the daemon. Roles (`viewer`, `member`, `admin`, `owner`) control which endpoints they can touch.
- Anonymous mode (if you explicitly enable it) maps to a read-only `viewer` role—no session creation, terminals, or environment controls.
- Terminal access and environment orchestration still run as the daemon’s underlying system user. Keep the daemon account scoped to the worktree directory and `/tmp` when possible.
- API keys for Claude/Codex/Gemini remain shared at the daemon level until per-user keys ship.

**What that means in practice:**

- Only invite collaborators you trust; admins can still execute arbitrary code via terminals and environment commands.
- Prefer sandboxed VMs or disposable environments for multiplayer access.
- Run the daemon as a dedicated Unix user scoped to the Agor directories. Keep SSH/root access separate from day-to-day collaboration.

## Deployment Guidance

- Keep the daemon behind a firewall, VPN, or private network. Pair it with reverse proxies if you need SSO or IP allowlists.
- Harden the host like any shared dev box: patch regularly, monitor logs, and rotate credentials.
- If internet exposure is unavoidable, prefer open-source projects only and rotate API keys frequently.

## API Keys & Secrets

- Agent API keys configured in the daemon remain visible to `admin` users (and potentially compromised hosts). Load only what you need, monitor usage, and rotate aggressively.
- Prefer scoped or temporary credentials and keep secrets out of repositories.
- Consider de-elevating the daemon user further (e.g., dedicated VM + short-lived keys) when handling sensitive code.

## Codespaces Notes

- GitHub Codespaces only forwards ports to the Codespace owner by default, which helps when you're the only user.
- The moment you open those ports publicly, treat the environment as compromised: API keys, repository contents, and in-progress work can leak.
- Combine Codespaces with the guidance above—keep it behind authentication, and prefer non-sensitive workloads if you need to collaborate in a Codespace.

## Coming Soon

- Per-user API keys configurable from **Settings → User**.
- In-daemon OS-level impersonation so operations run as the intended collaborator.
- Role-based access controls to scope who can see or modify specific worktrees, sessions, and resources.

Stay tuned for updates as these safeguards land. Until then, operate Agor with the same caution you would any powerful internal tool.
